{% extends 'base.html' %}
{% load static %}

{% block title %}TournifyX | Home{% endblock %}

{% block extra_css %}
<style>
  html, body { 
    height: 100%; 
    margin: 0; 
    padding: 0; 
    overflow-x: hidden; /* Prevent horizontal scroll */
    width: 100%;
    max-width: 100vw;
  }
  
  /* Remove gaps between sections */
  section {
    margin: 0;
    padding: 0;
    display: block;
  }
  
  /* Ensure background sections cover full viewport */
  #bg, #esports-games, #contact {
    min-height: 100vh;
    width: 100%;
    margin: 0;
    padding: 0;
  }
  
  /* Play overlay/button shown when autoplay is blocked or user needs to start playback */
  #videoPlayOverlay { background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.45)); }
  .play-button {
    width: 92px;
    height: 92px;
    border-radius: 9999px;
    background: rgba(255,255,255,0.06);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    border: 1px solid rgba(255,255,255,0.08);
  }

  /* Right side long image (hidden until video ends) */
  #sideLongImage {
    position: fixed;
    right: 1.5rem;
    top: 2vh;
    max-height: 95vh;
    max-width: 60vw; 
    width: auto;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: none;
    transform: translateX(0) scale(1.06);
    opacity: 0;
    transition: opacity 550ms ease-out, transform 550ms ease-out, right 550ms ease-out, height 550ms ease-out, max-width 550ms ease-out;
    z-index: 55;
    pointer-events: none;
    animation: floatOmen 3.5s ease-in-out infinite;
  }

  @keyframes floatOmen {
    0% { transform: translateX(0) scale(1.15) translateY(0); } /* Reduced from 1.22 */
    50% { transform: translateX(0) scale(1.15) translateY(-24px); }
    100% { transform: translateX(0) scale(1.15) translateY(0); }
  }
  #sideLongImage.show { 
    transform: translateX(0) scale(1.02);
    opacity: 1; 
  }
  #sideLongImage.hide-on-bg { opacity: 0 !important; pointer-events: none; }
</style>
<link rel="stylesheet" href="{% static 'css/leaderboard.css' %}">
{% endblock %}


{% block content %}
<!-- Main overflow wrapper -->
<div class="w-full overflow-x-hidden">
<!-- Background Video -->
<div id="videoWrapper" class="fixed inset-0 z-0">
  <video id="heroVideo" class="w-full h-full object-cover brightness-[.7] contrast-110" autoplay muted playsinline poster="{% static 'images/background.jpg' %}">

    <source src="{% static 'videos/bgvid.mp4' %}" type="video/mp4">
    <!-- fallback text -->
    Your browser does not support the video tag.
  </video>
  <!-- Semi-opaque overlay that applies only to the video area -->
  <div id="videoOverlay" class="absolute inset-0 bg-black/50 pointer-events-none transition-opacity duration-500"></div>

  
  <!-- Play overlay: hidden by default, shown if autoplay is blocked or user taps to start -->
  <div id="videoPlayOverlay" class="hidden absolute inset-0 z-40 flex items-center justify-center pointer-events-auto">
    <button id="playBtn" class="play-button text-white flex items-center justify-center shadow-lg">
      <svg width="54" height="54" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M5 3v18l15-9L5 3z"/></svg>
    </button>
  </div>
</div>

<!-- Background image that will fade in after the video ends -->
<div id="heroBg" class="fixed top-0 left-0 w-screen h-screen z-0 opacity-0 transition-opacity duration-700 ease-out bg-center bg-cover" style="background-image: url('{% static 'images/bg.png' %}'); background-size: cover; background-position: center; width: 100vw; height: 100vh; min-width: 100%; min-height: 100%;"></div>
<!-- Right-side long image (hidden initially, shows on video end) -->
<div id="sideLongImage" aria-hidden="true" class="hidden md:block">
  <img src="{% static 'images/omen.png' %}" alt="" class="w-full h-full object-cover object-center">
</div>

<!-- Floating Nav (top-right) -->
<div class="fixed top-0 left-0 w-full z-20 pointer-events-none">
  <div class="flex justify-end items-center pt-10 pr-16 w-full">
    <a href="#esports-games" class="pointer-events-auto bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold rounded-full px-8 py-3 text-base shadow-lg flex items-center gap-2 border-2 border-white/30 hover:from-orange-600 hover:to-orange-700 hover:scale-105 transition-all backdrop-blur-sm">
      <i class="fas fa-play-circle"></i>
      Watch Esports Games
      <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M5 12h14M13 18l6-6-6-6"/></svg>
    </a>
  </div>
</div>


<div class="relative z-20 h-screen flex flex-col justify-between">
  <!-- Left-aligned: Logo (repositionable), Heading, and Buttons -->
  <div class="absolute top-1/2 left-4 sm:left-12 md:left-[7vw] -translate-y-1/2 z-30 flex flex-col items-start max-w-[86vw] md:max-w-none">
    <!-- Adjust the Tailwind classes below to reposition the logo as you like -->
    <div class="mb-6">
      <img src="{% static 'images/logo.png' %}" alt="TournifyX Logo" class="w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 drop-shadow-xl" />
    </div>
    <h1 class="text-white text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-extrabold uppercase tracking-widest leading-tight drop-shadow-lg mb-8 text-left">
      WELCOME TO<br>TOURNIFYX
    </h1>

    
    <div class="flex gap-6">
      <a href="{% url 'join_tournament' %}" class="bg-white/20 text-white border-2 border-white/30 rounded-full text-lg font-bold px-8 py-3 shadow-md hover:bg-orange-600 hover:text-white hover:border-orange-600 transition backdrop-blur-sm float-on-hover">Join a tournament</a>
      <a href="{% url 'host_tournament' %}" class="bg-white/20 text-white border-2 border-white/30 rounded-full text-lg font-bold px-8 py-3 shadow-md hover:bg-orange-600 hover:text-white hover:border-orange-600 transition backdrop-blur-sm float-on-hover">Create a tournament</a>
    </div>
  </div>
</div>

<!-- Additional full-screen background section revealed when scrolling down -->
<section id="bg" class="relative w-full min-h-screen bg-center bg-cover bg-no-repeat flex items-center justify-center" style="background-image: url('{% static 'images/bg2.png' %}'); background-size: cover; background-position: center;">
  <div class="absolute inset-0 bg-transparent"></div>
  <div class="relative z-10 w-full max-w-7xl mx-auto p-8">
  <h2 class="text-4xl md:text-5xl font-extrabold mb-8 text-center">Players' Picks — Leaders' Favorites</h2>
  <p class="text-lg text-gray-300 max-w-4xl mx-auto mb-8 text-center">What the top-ranked players are playing and recommending — curated highlights and quick insights.</p>
    
    <!-- Grid Layout: Featured Players (Left) + Leaderboard (Right) -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Featured Top Players Section (Left Side) -->
      <div class="lg:col-span-1 space-y-6">
        <div class="bg-black/70 backdrop-blur-md rounded-2xl shadow-lg border-2 border-orange-500 overflow-hidden p-6">
          <!-- Title -->
          <h3 class="text-2xl font-bold text-white mb-1 text-center">
            <i class="fas fa-crown text-orange-400 mr-2"></i>Top Champions
          </h3>
          <p class="text-sm text-gray-300 text-center mb-6">Elite players dominating each segment</p>
          
          <!-- Featured Players Grid -->
          <div class="space-y-4">
            {% for player in featured_players %}
            {% if player.has_player %}
            <!-- Player Card with Data -->
            <div class="bg-black/60 backdrop-blur-md rounded-xl p-4 border-2 border-orange-500/40 hover:border-orange-500/70 transition-all transform hover:scale-105 hover:shadow-xl hover:shadow-orange-500/20">
              <div class="flex items-center gap-4">
                <!-- Player Avatar -->
                <div class="relative flex-shrink-0">
                  <div class="w-16 h-16 rounded-full overflow-hidden border-3 border-gradient-to-br from-orange-400 to-pink-400 shadow-lg bg-gray-800">
                    {% if player.avatar_url %}
                      <img src="{{ player.avatar_url }}" alt="{{ player.username }}" class="w-full h-full object-cover">
                    {% else %}
                      <div class="w-full h-full flex items-center justify-center text-gray-400">
                        <i class="fas fa-user text-2xl"></i>
                      </div>
                    {% endif %}
                  </div>
                  <div class="absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-lg">
                    1
                  </div>
                </div>
                
                <!-- Player Info -->
                <div class="flex-grow min-w-0">
                  <h4 class="text-white font-bold text-sm truncate">{{ player.username }}</h4>
                  <p class="text-xs text-orange-400 font-semibold uppercase tracking-wide">
                    <i class="fas fa-gamepad mr-1"></i>{{ player.category_display }}
                  </p>
                  <div class="flex items-center gap-3 mt-2 text-xs text-gray-300">
                    <span class="flex items-center gap-1">
                      <i class="fas fa-trophy text-yellow-400"></i>
                      {{ player.wins }}
                    </span>
                    <span class="flex items-center gap-1">
                      <i class="fas fa-star text-orange-400"></i>
                      {{ player.points }}
                    </span>
                    <span class="flex items-center gap-1 text-green-400 font-semibold">
                      {{ player.win_rate }}%
                    </span>
                  </div>
                </div>
              </div>
            </div>
            {% else %}
            <!-- No Player Card -->
            <div class="bg-black/40 backdrop-blur-md rounded-xl p-4 border-2 border-gray-700/40">
              <div class="flex items-center gap-4">
                <!-- Empty Avatar -->
                <div class="relative flex-shrink-0">
                  <div class="w-16 h-16 rounded-full overflow-hidden border-2 border-gray-700 shadow-lg bg-gray-800/50 flex items-center justify-center">
                    <i class="fas fa-user-slash text-gray-600 text-2xl"></i>
                  </div>
                </div>
                
                <!-- No Player Info -->
                <div class="flex-grow min-w-0">
                  <h4 class="text-gray-500 font-bold text-sm">No Player</h4>
                  <p class="text-xs text-gray-600 font-semibold uppercase tracking-wide">
                    <i class="fas fa-gamepad mr-1"></i>{{ player.category_display }}
                  </p>
                  <p class="text-xs text-gray-600 mt-2">No tournaments played yet</p>
                </div>
              </div>
            </div>
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
      
      <!-- Player Leaderboard (Right Side) -->
      <div class="lg:col-span-2">
        <div class="bg-black/70 backdrop-blur-md rounded-2xl shadow-lg border-2 border-orange-500 overflow-hidden p-6">
          <!-- Title -->
          <h3 class="text-2xl font-bold text-white text-center mb-1">
            <i class="fas fa-trophy text-orange-400 mr-2"></i>Top Players
          </h3>
          <p class="text-sm text-gray-300 text-center mb-6">Overall leaderboard rankings</p>
          
          <!-- Table Container -->
          <div class="overflow-x-auto">
              <table id="playersTable" class="players-leaderboard min-w-full text-left text-white bg-transparent rounded-md overflow-hidden" aria-describedby="top-players">
            <thead>
              <tr class="bg-gray-800/60">
                <th class="py-3 px-4 text-sm text-gray-300 uppercase">Rank</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase sortable" data-type="text" data-index="1" role="columnheader" aria-sort="none">Username</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase sortable" data-type="number" data-index="2" role="columnheader" aria-sort="none">Points</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase sortable" data-type="number" data-index="3" role="columnheader" aria-sort="none">Tournaments</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase sortable" data-type="number" data-index="4" role="columnheader" aria-sort="none">Wins</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase sortable" data-type="number" data-index="5" role="columnheader" aria-sort="none">Win Rate</th>
                <th class="py-3 px-4 text-sm text-gray-300 uppercase">Trend</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-800">
              {% for player in top_players %}
              <tr class="hover:bg-gray-700/30 transition" style="--win-rate: {{ player.win_rate }}%;">
                <td class="rank">{{ forloop.counter }}</td>
                <td class="">{{ player.username }}</td>
                <td data-value="{{ player.points }}">{{ player.points }}</td>
                <td data-value="{{ player.tournaments }}">{{ player.tournaments }}</td>
                <td data-value="{{ player.wins }}">{{ player.wins }}</td>
                <td data-value="{{ player.win_rate }}">{{ player.win_rate }}%</td>
                <td><div class="spark-bg"><div class="spark-bar"></div></div></td>
              </tr>
              {% empty %}
              <tr><td colspan="7" class="py-6 text-center text-gray-400">No player data available.</td></tr>
              {% endfor %}
            </tbody>
              </table>
            </div>
        </div>
      </div>
    </div>
    
    <!-- Call to Action - Centered Below Both Sections -->
    <div class="mt-12 flex justify-center">
      <div class="bg-black/70 backdrop-blur-md rounded-2xl shadow-lg border-2 border-orange-500 p-8 text-center max-w-2xl w-full">
        <i class="fas fa-bolt text-orange-400 text-5xl mb-4 animate-pulse block"></i>
        <h4 class="text-2xl md:text-3xl font-bold text-white mb-3">Want to be Featured?</h4>
        <p class="text-base text-gray-300 mb-6">Show us your skills and dominate the leaderboard!</p>
        <a href="{% url 'public_tournaments' %}" class="bg-white/20 text-white border-2 border-white/30 rounded-full text-lg font-bold px-8 py-3 shadow-md hover:bg-orange-600 hover:text-white hover:border-orange-600 transition backdrop-blur-sm float-on-hover inline-block">
          <i class="fas fa-fire mr-2"></i>Join Tournaments Now
        </a>
      </div>
    </div>
  </div>
</section>








<!-- New section: Most Promising Esports Games -->
<section id="esports-games" class="relative w-full min-h-screen flex items-center justify-center py-20">
  <!-- background image for esports games section -->
  <div class="absolute inset-0 z-0 bg-cover bg-center" style="background-image: url('{% static 'images/bg3.png' %}'); background-size: cover; background-position: center;"></div>
  <div class="relative z-10 max-w-6xl mx-auto px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-6xl font-extrabold text-white mb-6">Most Promising <span class="text-orange-500">Esports Games</span></h2>
      <p class="text-xl text-gray-300 max-w-3xl mx-auto">Discover the games that are shaping the future of competitive gaming</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Valorant -->
      <a href="https://www.twitch.tv/valorant" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/valorant.mov' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">Valorant</h3>
          <p class="text-gray-300 mb-4">Tactical FPS that combines precise shooting with unique agent abilities</p>
          <div class="flex justify-between items-center">
            <span class="text-orange-500 font-semibold">Growing Fast</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-14 h-2 bg-orange-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>

      <!-- League of Legends -->
      <a href="https://www.twitch.tv/directory/category/league-of-legends" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/lol.mov' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">League of Legends</h3>
          <p class="text-gray-300 mb-4">The king of MOBAs with the largest esports ecosystem worldwide</p>
          <div class="flex justify-between items-center">
            <span class="text-green-500 font-semibold">Established</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-full h-2 bg-green-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>

      <!-- CS2 -->
      <a href="https://www.twitch.tv/directory/category/counter-strike" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/cs2.mov' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">Counter-Strike 2</h3>
          <p class="text-gray-300 mb-4">The evolution of the legendary tactical shooter with updated graphics</p>
          <div class="flex justify-between items-center">
            <span class="text-yellow-500 font-semibold">Rising</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-12 h-2 bg-yellow-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>




      
      <!-- Apex Legends -->
      <a href="https://www.twitch.tv/playapex" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/apex.mp4' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">Apex Legends</h3>
          <p class="text-gray-300 mb-4">Battle royale with unique legends and fast-paced tactical gameplay</p>
          <div class="flex justify-between items-center">
            <span class="text-purple-500 font-semibold">Competitive</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-10 h-2 bg-purple-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>

      <!-- Rocket League -->
      <a href="https://www.twitch.tv/rocketleague" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-cyan-600 to-blue-600 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/rl.mov' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">Rocket League</h3>
          <p class="text-gray-300 mb-4">Soccer meets racing in this unique and highly competitive sports game</p>
          <div class="flex justify-between items-center">
            <span class="text-cyan-500 font-semibold">Unique</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-11 h-2 bg-cyan-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>

      <!-- Fortnite -->
      <a href="https://www.twitch.tv/fortnite" target="_blank" rel="noopener noreferrer" class="bg-black/40 backdrop-blur-sm rounded-xl overflow-hidden hover:bg-black/60 transition duration-300 group cursor-pointer hover:scale-105 hover:shadow-2xl hover:shadow-orange-500/20 block">
        <div class="h-48 bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center">
          <video class="h-full w-auto rounded-md shadow-lg pointer-events-none" src="{% static 'videos/fortnite.mov' %}" autoplay loop muted playsinline></video>
        </div>
        <div class="p-6">
          <h3 class="text-2xl font-bold text-white mb-3 group-hover:text-orange-400 transition-colors">Fortnite</h3>
          <p class="text-gray-300 mb-4">Building-based battle royale with creative gameplay mechanics</p>
          <div class="flex justify-between items-center">
            <span class="text-indigo-500 font-semibold">Popular</span>
            <div class="w-16 h-2 bg-gray-700 rounded-full">
              <div class="w-13 h-2 bg-indigo-500 rounded-full"></div>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- Contact Us Section -->
<section id="contact" class="relative w-full min-h-screen flex items-center justify-center" style="background-image: url('{% static 'images/bg.png' %}'); background-size: cover; background-position: center; background-attachment: fixed;">
  <div class="absolute inset-0 bg-black/60 backdrop-blur-[2px]"></div>
  
  <div class="relative z-10 container mx-auto px-4 py-20">
    <div class="max-w-4xl mx-auto text-center">
      <!-- Section Header -->
      <div class="mb-16">
        <h2 class="text-5xl md:text-6xl font-bold text-white mb-4">
          Get In <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-pink-500">Touch</span>
        </h2>
        <p class="text-xl text-gray-300">Have questions? We'd love to hear from you.</p>
      </div>

      <!-- Contact Cards -->
      <div class="grid md:grid-cols-2 gap-8 mb-12">
        <!-- Email Card -->
        <div class="bg-black/40 backdrop-blur-sm rounded-2xl p-8 border border-orange-500/20 hover:border-orange-500/50 transition-all duration-300 group">
          <div class="w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-pink-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-white mb-3">Email Us</h3>
          <p class="text-gray-400 mb-4">Send us an email and we'll respond within 24 hours</p>
          <a href="mailto:support@tournifyx.com" class="inline-block text-orange-500 hover:text-orange-400 font-semibold transition-colors duration-300">
            support@tournifyx.com
          </a>
        </div>

        <!-- General Inquiries Card -->
        <div class="bg-black/40 backdrop-blur-sm rounded-2xl p-8 border border-orange-500/20 hover:border-orange-500/50 transition-all duration-300 group">
          <div class="w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-white mb-3">General Inquiries</h3>
          <p class="text-gray-400 mb-4">For partnerships, sponsorships, and other inquiries</p>
          <a href="mailto:info@tournifyx.com" class="inline-block text-purple-500 hover:text-purple-400 font-semibold transition-colors duration-300">
            info@tournifyx.com
          </a>
        </div>
      </div>

      <!-- Support Center Redirect Box -->
      <div class="bg-gradient-to-br from-orange-500/20 to-pink-500/20 backdrop-blur-sm rounded-2xl p-10 border-2 border-orange-500/30 hover:border-orange-500/50 transition-all duration-300">
        <div class="text-center">
          <div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-orange-500 to-pink-500 rounded-full flex items-center justify-center">
            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
          </div>
          <h3 class="text-3xl font-bold text-white mb-4">Need Help?</h3>
          <p class="text-lg text-gray-300 mb-6">Visit our comprehensive Support Center for FAQs, troubleshooting guides, and detailed help articles.</p>
          <a href="{% url 'support' %}" class="inline-block px-10 py-4 bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white text-lg font-bold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
            Visit Support Center
          </a>
          <p class="text-sm text-gray-400 mt-4">Find answers to common questions and get help instantly</p>
        </div>
      </div>

      <!-- Social Links (Optional) -->
      <div class="mt-12 flex justify-center space-x-6">
        <a href="#" class="w-12 h-12 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-gray-700 hover:border-orange-500 transition-colors duration-300 group">
          <svg class="w-6 h-6 text-gray-400 group-hover:text-orange-500 transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24">
            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
          </svg>
        </a>
        <a href="#" class="w-12 h-12 bg-black/40 backdrop-blur-sm rounded-full flex items-center justify-center border border-gray-700 hover:border-orange-500 transition-colors duration-300 group">
          <svg class="w-6 h-6 text-gray-400 group-hover:text-orange-500 transition-colors duration-300" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
        </a>
      </div>

      <!-- Footer Text -->
      <div class="mt-12 pt-8 border-t border-gray-800">
        <p class="text-gray-500">© 2025 TournifyX. All rights reserved.</p>
      </div>
    </div>
  </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
  // Video and background handler
  (function(){
    const video = document.getElementById('heroVideo');
    const heroBg = document.getElementById('heroBg');
    const sideImage = document.getElementById('sideLongImage');
    const bgSection = document.getElementById('bg');
    if (!video || !heroBg || !sideImage || !bgSection) return;

    let videoEnded = false;
    let heroInView = false;

    function showOmen() {
      sideImage.classList.add('show');
      sideImage.classList.remove('hide-on-bg');
    }
    function hideOmen() {
      sideImage.classList.remove('show');
      sideImage.classList.add('hide-on-bg');
    }

    // IntersectionObserver for hero section
    const heroSection = document.querySelector('.relative.z-20.h-screen.flex.flex-col.justify-between');
    let observer = null;
    if (heroSection) {
      observer = new IntersectionObserver((entries) => {
        heroInView = entries[0].isIntersecting;
        if (videoEnded) {
          if (heroInView) {
            showOmen();
          } else {
            hideOmen();
          }
        }
      }, { threshold: 0.15 }); // 15% of hero section visible
      observer.observe(heroSection);
    }

    function handleOmenVisibility() {
      if (!videoEnded) {
        hideOmen();
        return;
      }
      if (heroInView) {
        showOmen();
      } else {
        hideOmen();
      }
    }

    function onVideoEndOrFallback() {
      heroBg.classList.remove('opacity-0');
      heroBg.classList.add('opacity-100');
      setTimeout(() => {
        video.pause();
        videoEnded = true;
        handleOmenVisibility();
      }, 500);
    }

    video.addEventListener('ended', onVideoEndOrFallback);
    // Autoplay fallback
    setTimeout(() => {
      if (video.paused && !videoEnded) {
        onVideoEndOrFallback();
      }
    }, 8000);




    
    // Initial check
    handleOmenVisibility();
  })();
</script>
<script>
  // Hide omen.png when scrolling down
  (function(){
    const sideImage = document.getElementById('sideLongImage');
    if (!sideImage) return;

    let ticking = false;
    
    function handleScroll() {
      const scrollY = window.scrollY;
      
      if (sideImage.classList.contains('show')) {
        if (scrollY > 0) { // Hide immediately when any scrolling is detected
          sideImage.classList.add('hide-on-scroll');
        } else {
          sideImage.classList.remove('hide-on-scroll');
        }
      }
      
      ticking = false;
    }
    
    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(handleScroll);
        ticking = true;
      }
    }
    
    window.addEventListener('scroll', requestTick, { passive: true });
    
    // Initial check in case page loads already scrolled
    handleScroll();
  })();
</script>
<script>
  // Show left floating image when leaderboard section (#bg) is visible
  (function(){
    const leftImage = document.getElementById('leftFloatImage');
    const bgSection = document.getElementById('bg');
    if (!leftImage || !bgSection) return;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && entry.intersectionRatio > 0.12) {
          // show: remove very large negative translate, add translate-x-0 and opacity
          leftImage.classList.remove('md:-translate-x-[32rem]', 'lg:-translate-x-[40rem]');
          leftImage.classList.add('translate-x-0', 'opacity-100');
        } else {
          // hide: remove translate-x-0/opacity-100 and restore very large negative translate
          leftImage.classList.remove('translate-x-0', 'opacity-100');
          leftImage.classList.add('md:-translate-x-[32rem]', 'lg:-translate-x-[40rem]', 'opacity-0');
        }
      });
    }, { threshold: [0, 0.12, 0.5] });

    observer.observe(bgSection);




    
    // If the page is already scrolled to show the section, ensure visibility
    if (bgSection.getBoundingClientRect().top < window.innerHeight && bgSection.getBoundingClientRect().bottom > 0) {
      leftImage.classList.remove('md:-translate-x-[32rem]', 'lg:-translate-x-[40rem]');
      leftImage.classList.add('translate-x-0', 'opacity-100');
    }
  })();
</script>
<script>
  // Smooth scroll for "Watch Esports Games" button
  (function(){
    const esportsButton = document.querySelector('a[href="#esports-games"]');
    if (!esportsButton) return;
    
    esportsButton.addEventListener('click', function(e) {
      e.preventDefault();
      const targetSection = document.getElementById('esports-games');
      if (targetSection) {
        targetSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  })();
</script>
</div> <!-- Close overflow wrapper -->
{% endblock %}
